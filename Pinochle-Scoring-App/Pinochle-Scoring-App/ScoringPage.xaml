<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Pinochle_Scoring_App.ScoringPage"
             Title="ScoringPage"
             BackgroundColor="#F5F5F5">
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <!-- Title -->
            <Label Text="Game Scoring"
                   FontSize="32"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#193829"
                   Margin="0,10,0,10"/>

            <!-- Score Display Card -->
            <Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Current Scores"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>
                    
                    <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                        <Label Text="{Binding Team1.Name}"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        <Label Text="Score:"
                               FontSize="18"/>
                        <Label Text="{Binding Team1.Score}"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#193829"/>
                    </HorizontalStackLayout>
                    
                    <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                        <Label Text="{Binding Team2.Name}"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        <Label Text="Score:"
                               FontSize="18"/>
                        <Label Text="{Binding Team2.Score}"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#193829"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Bidding Section -->
            <Frame x:Name="Bidding"
                   BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Bidding"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"/>
                    
                    <Entry Placeholder="Enter Bid Amount"
                           x:Name="BidAmount"
                           Keyboard="Numeric"
                           FontSize="16"
                           TextChanged="OnBidAmountChanged"/>
                    
                    <Label Text="Who took the bid?"
                           FontSize="16"
                           HorizontalOptions="Center"
                           x:Name="BidPromptLabel"
                           IsVisible="False"
                           Margin="0,10,0,0"/>
                    
                    <Button Text="{Binding Team1.Name}"
                            Clicked="OnTeam1Bid"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            CornerRadius="8"
                            HeightRequest="45"
                            x:Name="Team1BidButton"
                            IsVisible="False"/>
                    
                    <Button Text="{Binding Team2.Name}"
                            Clicked="OnTeam2Bid"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            CornerRadius="8"
                            HeightRequest="45"
                            x:Name="Team2BidButton"
                            IsVisible="False"/>
                    
                    <Label x:Name="BidResultLabel"
                           IsVisible="False"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="#28a745"
                           HorizontalOptions="Center"
                           Margin="0,10,0,0"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Melding Section -->
            <Frame x:Name="Melding"
                   IsVisible="false"
                   BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Meld Points"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>

                    <VerticalStackLayout Spacing="10">
                        <Label Text="{Binding Team1.Name}"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Entry Placeholder="Enter Meld Points"
                               x:Name="Team1MeldPoints"
                               Keyboard="Numeric"
                               FontSize="16"
                               TextChanged="OnNumericEntryTextChanged"
                               HorizontalOptions="Fill"/>
                        <Button Text="Add Meld"
                                Clicked="Team1AddMeld"
                                BackgroundColor="#193829"
                                TextColor="White"
                                FontSize="16"
                                CornerRadius="8"
                                HeightRequest="45"/>
                        <Label x:Name="Team1MeldConfirmLabel"
                               IsVisible="False"
                               FontSize="14"
                               TextColor="#28a745"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="10" Margin="0,10,0,0">
                        <Label Text="{Binding Team2.Name}"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Entry Placeholder="Enter Meld Points"
                               x:Name="Team2MeldPoints"
                               Keyboard="Numeric"
                               FontSize="16"
                               TextChanged="OnNumericEntryTextChanged"
                               HorizontalOptions="Fill"/>
                        <Button Text="Add Meld"
                                Clicked="Team2AddMeld"
                                BackgroundColor="#193829"
                                TextColor="White"
                                FontSize="16"
                                CornerRadius="8"
                                HeightRequest="45"/>
                        <Label x:Name="Team2MeldConfirmLabel"
                               IsVisible="False"
                               FontSize="14"
                               TextColor="#28a745"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                    
                    <Button Text="Continue to Trick Scoring"
                            Clicked="OnStartTrickScoring"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="8"
                            HeightRequest="50"
                            Margin="0,20,0,0"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Trick Scoring Section -->
            <Frame x:Name="TrickScoring"
                   IsVisible="false"
                   BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Trick Points"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>

                    <VerticalStackLayout Spacing="10">
                        <Label Text="{Binding Team1.Name}"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Entry Placeholder="Enter Trick Points"
                               x:Name="Team1TrickPoints"        
                               Keyboard="Numeric"
                               FontSize="16"
                               TextChanged="OnNumericEntryTextChanged"
                               HorizontalOptions="Fill"/>
                        <Button Text="Add Trick Points"
                                Clicked="Team1AddTrickPoints"
                                BackgroundColor="#193829"
                                TextColor="White"
                                FontSize="16"
                                CornerRadius="8"
                                HeightRequest="45"/>
                        <Label x:Name="Team1TrickConfirmLabel"
                               IsVisible="False"
                               FontSize="14"
                               TextColor="#28a745"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="10" Margin="0,10,0,0">
                        <Label Text="{Binding Team2.Name}"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Entry Placeholder="Enter Trick Points"
                               x:Name="Team2TrickPoints"
                               Keyboard="Numeric"
                               FontSize="16"
                               TextChanged="OnNumericEntryTextChanged"
                               HorizontalOptions="Fill"/>
                        <Button Text="Add Trick Points"
                                Clicked="Team2AddTrickPoints"
                                BackgroundColor="#193829"
                                TextColor="White"
                                FontSize="16"
                                CornerRadius="8"
                                HeightRequest="45"/>
                        <Label x:Name="Team2TrickConfirmLabel"
                               IsVisible="False"
                               FontSize="14"
                               TextColor="#28a745"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>
                    
                    <Button Text="Next Round"
                            Clicked="NextRound"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="8"
                            HeightRequest="50"
                            Margin="0,20,0,0"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>