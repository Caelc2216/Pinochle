<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Pinochle_Scoring_App.ScoringPage"
             Title="ScoringPage"
             BackgroundColor="#F5F5F5">
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <!-- Title -->
            <Label Text="Game Scoring"
                   FontSize="32"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#193829"
                   Margin="0,10,0,10"/>

            <!-- Score Display Card -->
            <!--<Frame BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">-->
                <VerticalStackLayout Spacing="15">
                    <Label Text="Current Scores"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>
                    
                    <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                        <Label Text="{Binding Team1.Name}"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        <Label Text="Score:"
                               FontSize="18"/>
                        <Label Text="{Binding Team1.Score}"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#193829"/>
                    </HorizontalStackLayout>
                    
                    <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                        <Label Text="{Binding Team2.Name}"
                               FontSize="18"
                               FontAttributes="Bold"/>
                        <Label Text="Score:"
                               FontSize="18"/>
                        <Label Text="{Binding Team2.Score}"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#193829"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            <!--</Frame>-->

            <!-- Bidding Section -->
            <!--<Frame x:Name="Bidding"
                   BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">-->
                <VerticalStackLayout Spacing="15"
                                     x:Name="Bidding">
                    <Label Text="Bidding"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"/>
                    
                    <Entry Placeholder="Enter Bid Amount"
                           x:Name="BidAmount"
                           Keyboard="Numeric"
                           FontSize="16"
                           TextChanged="OnBidAmountChanged"/>
                    
                    <Label Text="Who took the bid?"
                           FontSize="16"
                           HorizontalOptions="Center"
                           x:Name="BidPromptLabel"
                           IsVisible="False"
                           Margin="0,10,0,0"/>
                    
                    <Button Text="{Binding Team1.Name}"
                            Clicked="OnTeam1Bid"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            CornerRadius="8"
                            HeightRequest="45"
                            x:Name="Team1BidButton"
                            IsVisible="False"/>
                    
                    <Button Text="{Binding Team2.Name}"
                            Clicked="OnTeam2Bid"
                            BackgroundColor="#193829"
                            TextColor="White"
                            FontSize="16"
                            CornerRadius="8"
                            HeightRequest="45"
                            x:Name="Team2BidButton"
                            IsVisible="False"/>
                    
                    <Label x:Name="BidResultLabel"
                           IsVisible="False"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="#28a745"
                           HorizontalOptions="Center"
                           Margin="0,10,0,0"/>
                </VerticalStackLayout>
            <!--</Frame>-->

            <!-- Melding Section -->
            <!--
            <Frame x:Name="Melding"
                   IsVisible="false"
                   BackgroundColor="White"
                   CornerRadius="10"
                   Padding="20"
                   HasShadow="True">
            -->
                <VerticalStackLayout Spacing="15"
                                     x:Name="Melding"
                                     IsVisible="false">
                    <Label Text="Meld Points"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="#193829"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>

            <HorizontalStackLayout Spacing="10"
                                   x:Name="Team1MeldEntry">
                <Label Text="{Binding Team1.Name}"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center" />
                <Entry Placeholder="Score"
                       x:Name="Team1MeldPoints"
                       Keyboard="Numeric"
                       TextChanged="OnMeldPointsChanged"/>
                <Button Text="Add Meld"
                        Clicked="Team1AddMeld"
                        BackgroundColor="#193829"
                        x:Name="Team1MeldButton"/>
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="10"
                                   x:Name="Team2MeldEntry">
                <Label Text="{Binding Team2.Name}"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center" />
                <Entry Placeholder="Score"
                       x:Name="Team2MeldPoints"
                       Keyboard="Numeric"
                       TextChanged="OnMeldPointsChanged"/>
                <Button Text="Add Meld"
                        Clicked="Team2AddMeld"
                        BackgroundColor="#193829"
                        x:Name="Team2MeldButton"/>
            </HorizontalStackLayout>
            <Button Text="Continue to Trick Scoring"
                    x:Name="ContinueToTrickScoringButton"
                    Clicked="OnStartTrickScoring"
                    Margin="0,20,0,0"
                    BackgroundColor="#193829"
                    IsVisible="False"/>
        </VerticalStackLayout>

        <VerticalStackLayout
            x:Name="TrickScoring"
            IsVisible="false"
            Spacing="15">
            <Label 
                Text="Enter Trick Points (must add to 25)"
                VerticalOptions="Center"
                FontAttributes="Bold"
                Margin="0,0,0,10"/>

            <HorizontalStackLayout Spacing="10"
                                   x:Name="Team1TrickEntry">
                <Label Text="{Binding Team1.Name}"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center" />
                <Entry Placeholder="Score"
                       x:Name="Team1TrickPoints"        
                       Keyboard="Numeric"
                       TextChanged="OnTrickPointsChanged"/>
                <Button Text="Add Trick Points"
                        x:Name="Team1AddTrickButton"
                        Clicked="Team1AddTrickPoints"
                        BackgroundColor="#193829"
                        IsVisible="False"/>
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="10"
                                   x:Name="Team2TrickEntry">
                <Label Text="{Binding Team2.Name}"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center" />
                <Entry Placeholder="Score"
                       x:Name="Team2TrickPoints"
                       Keyboard="Numeric"
                       TextChanged="OnTrickPointsChanged"/>
                <Button Text="Add Trick Points"
                        x:Name="Team2AddTrickButton"
                        Clicked="Team2AddTrickPoints"
                        BackgroundColor="#193829"
                        IsVisible="False"/>
            </HorizontalStackLayout>
            
            <!-- Warning label for incorrect total -->
            <Label x:Name="TrickPointsWarningLabel"
                   Text="Trick points must add up to 25"
                   TextColor="Red"
                   HorizontalOptions="Center"
                   IsVisible="False"
                   Margin="0,10,0,0"/>
            
            <Button Text="Next Round"
                    x:Name="NextRoundButton"
                    Clicked="NextRound"
                    Margin="0,20,0,0"
                    BackgroundColor="#193829"
                    IsVisible="False"/>
        </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>